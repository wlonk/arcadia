\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{murray}[2018/01/04 v0.1.0 Murray package]

%%% Basics
\setmainfont[
	Mapping=tex-text,
	ItalicFeatures={Alternate=0},
	Ligatures={Common,Rare},
	Alternate=1,
	Numbers=OldStyle
]{Hoefler Text}

\RequirePackage[defaultlines=2,all]{nowidow}

%%% Page size and geometry
\RequirePackage{geometry}
\geometry{papersize={6in,9in}, layoutsize={5.5in,8.5in}, twoside=true}

%%% Footer styles
\usepackage{fancyhdr}
 
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}

\fancypagestyle{plain}{%
\fancyhf{} % clear all header and footer fields
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}
}

% TODO: lay out text block area.

%%% Paragraph styles
\setlength{\parindent}{2em}
\setlength{\parskip}{0em}

% TODO: Chapter initial drop caps. Lettrine?

%%% Title page styles

%%% Table of Contents (ToC) styles

%%% Chapter headings styles

\usepackage{titlesec}
 
\titleformat
{\chapter} % command
[display] % shape
{\Large\itshape} % format
{
    \centering
    \thechapter.
} % label
{0.5ex} % sep
{
    \vspace{1ex}
    \centering
} % before-code
[
\vspace{-0.5ex}%
\rule{\textwidth}{0.3pt}
] % after-code

\renewcommand{\thechapter}{\@Roman\c@chapter}

%%% Headings styles

\RequirePackage{titlesec}
\titleformat{\section}[block]{\scshape}{}{1em}{}
\titleformat{\subsection}[block]{\scshape}{}{1em}{}

%%% Unordered list styles

\renewcommand{\labelitemi}{---}

%%% Table styles

%%% Image/Figure styles

%%% Sidebars, topics, todos styles

\usepackage{newfloat}

\DeclareFloatingEnvironment{sidebar}
\setlength{\unitlength}{0.6\textwidth}

\renewenvironment{sphinxShadowBox}
  {
    \begin{sidebar}
    \begin{center}
	{\resizebox*{\unitlength}{\baselineskip}{\rotatebox{90}{$\}$}}}\\[\baselineskip]
    \end{center}
  }
  {
    \vspace{1ex}
    \begin{center}
	{\resizebox*{\unitlength}{\baselineskip}{\rotatebox{-90}{$\}$}}}
    \end{center}
    \end{sidebar}
  }

% End of file
\endinput
